{"metadata":{"name":"cloudability-metrics-agent","namespace":"cloudability","uid":"9eafe24e-4211-4f15-acc2-8df1afed1faa","resourceVersion":"10717320","generation":2,"creationTimestamp":"2022-08-11T21:23:12Z","labels":{"name":"cloudability-metrics-agent"},"annotations":{"deployment.kubernetes.io/revision":"2","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{},\"labels\":{\"name\":\"cloudability-metrics-agent\"},\"name\":\"cloudability-metrics-agent\",\"namespace\":\"cloudability\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"app\":\"cloudability-metrics-agent\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"cloudability-metrics-agent\"}},\"spec\":{\"containers\":[{\"args\":[\"kubernetes\"],\"env\":[{\"name\":\"CLOUDABILITY_API_KEY\",\"value\":\"DangThisIsSecret\"},{\"name\":\"CLOUDABILITY_CLUSTER_NAME\",\"value\":\"testCluster\"},{\"name\":\"CLOUDABILITY_POLL_INTERVAL\",\"value\":\"180\"},{\"name\":\"CLOUDABILITY_PARSE_METRIC_DATA\",\"value\":\"true\"}],\"image\":\"myImage\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"exec\":{\"command\":[\"touch\",\"tmp/healthy\"]},\"initialDelaySeconds\":120,\"periodSeconds\":600},\"name\":\"cloudability-metrics-agent\",\"resources\":{\"limits\":{\"cpu\":\".5\",\"memory\":\"1024Mi\"},\"requests\":{\"cpu\":\".1\",\"memory\":\"128Mi\"}},\"securityContext\":{\"allowPrivilegeEscalation\":false,\"capabilities\":{\"drop\":[\"all\"]},\"runAsNonRoot\":true,\"runAsUser\":10000}}],\"imagePullSecrets\":[{\"name\":\"cldy-docker-auth\"}],\"serviceAccount\":\"cloudability\"}}}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"apps/v1","time":"2022-08-22T23:56:28Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:name":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"cloudability-metrics-agent\"}":{".":{},"f:args":{},"f:env":{".":{},"k:{\"name\":\"CLOUDABILITY_API_KEY\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CLOUDABILITY_CLUSTER_NAME\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CLOUDABILITY_PARSE_METRIC_DATA\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CLOUDABILITY_POLL_INTERVAL\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:exec":{".":{},"f:command":{}},"f:failureThreshold":{},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"cauth\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2022-08-22T23:56:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"cloudability-metrics-agent"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cloudability-metrics-agent"}},"spec":{"containers":[{"name":"cloudability-metrics-agent","image":"myImage","args":["kubernetes"],"env":[{"name":"CLOUDABILITY_API_KEY","value":"SecretKey"},{"name":"CLOUDABILITY_CLUSTER_NAME","value":"testCluster"},{"name":"CLOUDABILITY_POLL_INTERVAL","value":"180"},{"name":"CLOUDABILITY_PARSE_METRIC_DATA","value":"true"}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"livenessProbe":{"exec":{"command":["touch","tmp/healthy"]},"initialDelaySeconds":120,"timeoutSeconds":1,"periodSeconds":600,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"drop":["all"]},"runAsUser":1000,"runAsNonRoot":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"cloudability","serviceAccount":"cloudability","securityContext":{},"imagePullSecrets":[{"name":"erth"}],"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":2,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Available","status":"True","lastUpdateTime":"2022-08-11T21:24:47Z","lastTransitionTime":"2022-08-11T21:24:47Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."},{"type":"Progressing","status":"True","lastUpdateTime":"2022-08-22T23:56:31Z","lastTransitionTime":"2022-08-11T21:23:12Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"cloudability-metrics-agent-df9fc8984\" has successfully progressed."}]}}
